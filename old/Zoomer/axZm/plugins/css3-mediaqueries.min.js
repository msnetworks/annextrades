/*
css3-mediaqueries.min.js
author: Wouter van der Graaf
license: MIT
Edited by: www.ajax-zoom.com
*/

"function"!==typeof Object.create&&(Object.create=function(l){function m(){}m.prototype=l;return new m});var ua={toString:function(){return navigator.userAgent},test:function(l){return-1<this.toString().toLowerCase().indexOf(l.toLowerCase())}};ua.version=(ua.toString().toLowerCase().match(/[\s\S]+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1];ua.webkit=ua.test("webkit");ua.gecko=ua.test("gecko")&&!ua.webkit;ua.opera=ua.test("opera");ua.ie=ua.test("msie")&&!ua.opera;
ua.ie6=ua.ie&&document.compatMode&&"undefined"===typeof document.documentElement.style.maxHeight;ua.ie7=ua.ie&&document.documentElement&&"undefined"!==typeof document.documentElement.style.maxHeight&&"undefined"===typeof XDomainRequest;ua.ie8=ua.ie&&"undefined"!==typeof XDomainRequest;
var mediaQueriesSupported=function(){return"undefined"!=typeof window.matchMedia||"undefined"!=typeof window.msMatchMedia},domReady=function(){if(!mediaQueriesSupported()){var l=[],m=function(){if(!arguments.callee.done){arguments.callee.done=!0;for(var m=0;m<l.length;m++)l[m]()}};document.addEventListener&&document.addEventListener("DOMContentLoaded",m,!1);ua.ie&&(function(){try{document.documentElement.doScroll("left")}catch(l){setTimeout(arguments.callee,50);return}m()}(),document.onreadystatechange=
function(){"complete"===document.readyState&&(document.onreadystatechange=null,m())});ua.webkit&&document.readyState&&function(){"loading"!==document.readyState?m():setTimeout(arguments.callee,10)}();window.onload=m;return function(m){"function"===typeof m&&(l[l.length]=m);return m}}}(),cssHelper=function(){if(!mediaQueriesSupported()){var l=/[^\s{][^{]*\{(?:[^{}]*\{[^{}]*\}[^{}]*|[^{}]*)*\}/g,m=/[^\s{][^{]*\{[^{}]*\}/g,B=/url\(['"]?([^\/\)'"][^:\)'"]+)['"]?\)/g,C=/(?:\/\*([^*\\\\]|\*(?!\/))+\*\/|@import[^;]+;)/g,
D=/\s*(,|:|;|\{|\})\s*/g,v=/\s{2,}/g,z=/;\}/g,E=/\S+/g,r,x=!1,w=[],y=function(c){"function"===typeof c&&(w[w.length]=c)},t={},p=function(c,a){if(t[c]){var b=t[c].listeners;if(b)for(var e=0;e<b.length;e++)b[e](a)}},g=function(c,a,b){ua.ie&&!window.XMLHttpRequest&&(window.XMLHttpRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")});if(!XMLHttpRequest)return"";var e=new XMLHttpRequest;try{e.open("get",c,!0),e.setRequestHeader("X_REQUESTED_WITH","XMLHttpRequest")}catch(d){b();return}var f=
!1;setTimeout(function(){f=!0},5E3);document.documentElement.style.cursor="progress";e.onreadystatechange=function(){4!==e.readyState||f||(!e.status&&"file:"===location.protocol||200<=e.status&&300>e.status||304===e.status||-1<navigator.userAgent.indexOf("Safari")&&"undefined"===typeof e.status?a(e.responseText):b(),document.documentElement.style.cursor="",e=null)};e.send("")},f=function(c){c=c.replace(C,"");c=c.replace(D,"$1");c=c.replace(v," ");return c=c.replace(z,"}")},a={mediaQueryList:function(c){var u=
{},b=c.indexOf("{"),e=c.substring(0,b);c=c.substring(b+1,c.length-1);for(var d=[],f=[],g=e.toLowerCase().substring(7).split(","),b=0;b<g.length;b++)d[d.length]=a.mediaQuery(g[b],u);g=c.match(m);if(null!==g)for(b=0;b<g.length;b++)f[f.length]=a.rule(g[b],u);u.getMediaQueries=function(){return d};u.getRules=function(){return f};u.getListText=function(){return e};u.getCssText=function(){return c};return u},mediaQuery:function(c,a){for(var b=!1,e,d=[],f=(c||"").match(E),g=0;g<f.length;g++){var h=f[g];
e||"not"!==h&&"only"!==h?e?"("===h.charAt(0)&&(h=h.substring(1,h.length-1).split(":"),d[d.length]={mediaFeature:h[0],value:h[1]||null}):e=h:"not"===h&&(b=!0)}return{getList:function(){return a||null},getValid:function(){return!0},getNot:function(){return b},getMediaType:function(){return e},getExpressions:function(){return d}}},rule:function(c,u){for(var b={},e=c.indexOf("{"),d=c.substring(0,e),f=d.split(","),g=[],e=c.substring(e+1,c.length-1).split(";"),h=0;h<e.length;h++)g[g.length]=a.declaration(e[h],
b);b.getMediaQueryList=function(){return u||null};b.getSelectors=function(){return f};b.getSelectorText=function(){return d};b.getDeclarations=function(){return g};b.getPropertyValue=function(c){for(var b=0;b<g.length;b++)if(g[b].getProperty()===c)return g[b].getValue();return null};return b},declaration:function(c,a){var b=c.indexOf(":"),e=c.substring(0,b),g=c.substring(b+1);return{getRule:function(){return a||null},getProperty:function(){return e},getValue:function(){return g}}}},h=function(c){if("string"===
typeof c.cssHelperText){var g={mediaQueryLists:[],rules:[],selectors:{},declarations:[],properties:{}},b=g.mediaQueryLists,e=g.rules,d=c.cssHelperText.match(l);if(null!==d)for(var f=0;f<d.length;f++)"@media "===d[f].substring(0,7)?(b[b.length]=a.mediaQueryList(d[f]),e=g.rules=e.concat(b[b.length-1].getRules())):e[e.length]=a.rule(d[f]);b=g.selectors;for(f=0;f<e.length;f++)for(var d=e[f],h=d.getSelectors(),k=0;k<h.length;k++){var n=h[k];b[n]||(b[n]=[]);b[n][b[n].length]=d}b=g.declarations;for(f=0;f<
e.length;f++)b=g.declarations=b.concat(e[f].getDeclarations());e=g.properties;for(f=0;f<b.length;f++)d=b[f].getProperty(),e[d]||(e[d]=[]),e[d][e[d].length]=b[f];c.cssHelperParsed=g;r[r.length]=c;return g}},k=function(c,a){c.cssHelperText=f(a||c.innerHTML);return h(c)},n=function(){x=!0;r=[];for(var c=[],a=function(){for(var b=0;b<c.length;b++)h(c[b]);for(var a=document.getElementsByTagName("style"),b=0;b<a.length;b++)k(a[b]);x=!1;for(b=0;b<w.length;b++)w[b](r)},b=document.getElementsByTagName("link"),
e=0;e<b.length;e++){var d=b[e];try{-1<d.getAttribute("rel").indexOf("style")&&d.href&&0!==d.href.length&&!d.disabled&&(c[c.length]=d)}catch(n){}}if(0<c.length)for(var l=0,m=function(){l++;l===c.length&&a()},b=function(c){var b=c.href;g(b,function(a){a=f(a).replace(B,"url("+b.substring(0,b.lastIndexOf("/"))+"/$1)");c.cssHelperText=a;m()},m)},e=0;e<c.length;e++)b(c[e]);else a()},d={mediaQueryLists:"array",rules:"array",selectors:"object",declarations:"array",properties:"object"},q={mediaQueryLists:null,
rules:null,selectors:null,declarations:null,properties:null},F=function(c,a){if(null!==q[c]){if("array"===d[c])return q[c]=q[c].concat(a);var b=q[c],e;for(e in a)a.hasOwnProperty(e)&&(b[e]=b[e]?b[e].concat(a[e]):a[e]);return b}},A=function(c){q[c]="array"===d[c]?[]:{};for(var a=0;a<r.length;a++)F(c,r[a].cssHelperParsed[c]);return q[c]};domReady(function(){for(var c=document.body.getElementsByTagName("*"),a=0;a<c.length;a++)c[a].checkedByCssHelper=!0;document.implementation.hasFeature("MutationEvents",
"2.0")||window.MutationEvent?document.body.addEventListener("DOMNodeInserted",function(c){c=c.target;1===c.nodeType&&(p("DOMElementInserted",c),c.checkedByCssHelper=!0)},!1):setInterval(function(){for(var c=document.body.getElementsByTagName("*"),a=0;a<c.length;a++)c[a].checkedByCssHelper||(p("DOMElementInserted",c[a]),c[a].checkedByCssHelper=!0)},1E3)});var G=function(c){if("undefined"!=typeof window.innerWidth)return window["inner"+c];if("undefined"!=typeof document.documentElement&&"undefined"!=
typeof document.documentElement.clientWidth&&0!=document.documentElement.clientWidth)return document.documentElement["client"+c]};return{addStyle:function(c,a){var b=document.createElement("style");b.setAttribute("type","text/css");document.getElementsByTagName("head")[0].appendChild(b);b.styleSheet?b.styleSheet.cssText=c:b.appendChild(document.createTextNode(c));b.addedWithCssHelper=!0;"undefined"===typeof a||!0===a?cssHelper.parsed(function(a){a=k(b,c);for(var d in a)a.hasOwnProperty(d)&&F(d,a[d]);
p("newStyleParsed",b)}):b.parsingDisallowed=!0;return b},removeStyle:function(a){return a.parentNode.removeChild(a)},parsed:function(a){x?y(a):"undefined"!==typeof r?"function"===typeof a&&a(r):(y(a),n())},mediaQueryLists:function(a){cssHelper.parsed(function(d){a(q.mediaQueryLists||A("mediaQueryLists"))})},rules:function(a){cssHelper.parsed(function(d){a(q.rules||A("rules"))})},selectors:function(a){cssHelper.parsed(function(d){a(q.selectors||A("selectors"))})},declarations:function(a){cssHelper.parsed(function(d){a(q.declarations||
A("declarations"))})},properties:function(a){cssHelper.parsed(function(d){a(q.properties||A("properties"))})},broadcast:p,addListener:function(a,d){"function"===typeof d&&(t[a]||(t[a]={listeners:[]}),t[a].listeners[t[a].listeners.length]=d)},removeListener:function(a,d){if("function"===typeof d&&t[a])for(var b=t[a].listeners,e=0;e<b.length;e++)b[e]===d&&(b.splice(e,1),--e)},getViewportWidth:function(){return G("Width")},getViewportHeight:function(){return G("Height")}}}}();
mediaQueriesSupported()||domReady(function(){var l,m=/[0-9]+(em|ex|px|in|cm|mm|pt|pc)$/,B=/[0-9]+(dpi|dpcm)$/,C=/^[0-9]+\/[0-9]+$/,D=/^[0-9]*(\.[0-9]+)*$/,v=[],z=function(g){l.style.width=g;g=l.offsetWidth;l.style.width="";return g},E=function(g,f){var a=g.length,h="min-"===g.substring(0,4),k=!h&&"max-"===g.substring(0,4);if(null!==f){var n,d;if(m.exec(f))n="length",d=z(f);else if(B.exec(f)){n="resolution";d=parseInt(f,10);var l=f.substring((d+"").length)}else C.exec(f)?(n="aspect-ratio",d=f.split("/")):
D?(n="absolute",d=f):n="unknown"}return"device-width"===g.substring(a-12,a)?(a=screen.width,null!==f?"length"===n?h&&a>=d||k&&a<d||!h&&!k&&a===d:!1:0<a):"device-height"===g.substring(a-13,a)?(a=screen.height,null!==f?"length"===n?h&&a>=d||k&&a<d||!h&&!k&&a===d:!1:0<a):"width"===g.substring(a-5,a)?(a=document.documentElement.clientWidth||document.body.clientWidth,null!==f?"length"===n?h&&a>=d||k&&a<d||!h&&!k&&a===d:!1:0<a):"height"===g.substring(a-6,a)?(a=document.documentElement.clientHeight||document.body.clientHeight,
null!==f?"length"===n?h&&a>=d||k&&a<d||!h&&!k&&a===d:!1:0<a):"device-aspect-ratio"===g.substring(a-19,a)?"aspect-ratio"===n&&screen.width*d[1]===screen.height*d[0]:"color-index"===g.substring(a-11,a)?(a=Math.pow(2,screen.colorDepth),null!==f?"absolute"===n?h&&a>=d||k&&a<d||!h&&!k&&a===d:!1:0<a):"color"===g.substring(a-5,a)?(a=screen.colorDepth,null!==f?"absolute"===n?h&&a>=d||k&&a<d||!h&&!k&&a===d:!1:0<a):"resolution"===g.substring(a-10,a)?(a="dpcm"===l?z("1cm"):z("1in"),null!==f?"resolution"===n?
h&&a>=d||k&&a<d||!h&&!k&&a===d:!1:0<a):!1},r=function(g){for(var f=g.getMediaQueries(),a={},h=0;h<f.length;h++){var k;var n=f[h];k=n.getValid();var d=n.getExpressions(),l=d.length;if(0<l){for(var m=0;m<l&&k;m++)k=E(d[m].mediaFeature,d[m].value);n=n.getNot();k=k&&!n||n&&!k}else k=void 0;k&&(a[f[h].getMediaType()]=!0)}var f=[],h=0,p;for(p in a)a.hasOwnProperty(p)&&(0<h&&(f[h++]=","),f[h++]=p);0<f.length&&(v[v.length]=cssHelper.addStyle("@media "+f.join("")+"{"+g.getCssText()+"}",!1))},x=function(g){for(var f=
0;f<g.length;f++)r(g[f]);ua.ie?(document.documentElement.style.display="block",setTimeout(function(){document.documentElement.style.display=""},0),setTimeout(function(){cssHelper.broadcast("cssMediaQueriesTested")},100)):cssHelper.broadcast("cssMediaQueriesTested")},w=function(){for(var g=0;g<v.length;g++)cssHelper.removeStyle(v[g]);v=[];cssHelper.mediaQueryLists(x)},y=0,t=function(){var g=cssHelper.getViewportWidth(),f=cssHelper.getViewportHeight();if(ua.ie){var a=document.createElement("div");a.style.position=
"absolute";a.style.top="-9999em";a.style.overflow="scroll";document.body.appendChild(a);y=a.offsetWidth-a.clientWidth;document.body.removeChild(a)}var h,k=function(){var a=cssHelper.getViewportWidth(),d=cssHelper.getViewportHeight();if(Math.abs(a-g)>y||Math.abs(d-f)>y)g=a,f=d,clearTimeout(h),h=setTimeout(function(){mediaQueriesSupported()?cssHelper.broadcast("cssMediaQueriesTested"):w()},500)};window.onresize=function(){var a=window.onresize||function(){};return function(){a();k()}}()},p=document.documentElement;
p.style.marginLeft="-32767px";setTimeout(function(){p.style.marginTop=""},2E4);return function(){mediaQueriesSupported()?p.style.marginLeft="":(cssHelper.addListener("newStyleParsed",function(g){x(g.cssHelperParsed.mediaQueryLists)}),cssHelper.addListener("cssMediaQueriesTested",function(){ua.ie&&(p.style.width="1px");setTimeout(function(){p.style.width="";p.style.marginLeft=""},0);cssHelper.removeListener("cssMediaQueriesTested",arguments.callee)}),l=document.createElement("div"),l.style.cssText=
"position:absolute;top:-9999em;left:-9999em;margin:0;border:none;padding:0;width:1em;font-size:1em;",document.body.appendChild(l),16!==l.offsetWidth&&(l.style.fontSize=16/l.offsetWidth+"em"),l.style.width="",w());t()}}());try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e$$11){};
